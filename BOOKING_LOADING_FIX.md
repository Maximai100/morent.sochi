# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∑–∞–≥—Ä—É–∑–∫–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

## üêõ **–ü—Ä–æ–±–ª–µ–º–∞**
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç** - –¥–∞–Ω–Ω—ã–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Directus
- ‚ùå **–ó–∞–≥—Ä—É–∑–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –æ—à–∏–±–∫–∞ `Failed to fetch bookings`
- üîç **Directus URL:** `https://1.cycloscope.online`
- üîç **–ó–∞–ø—Ä–æ—Å:** `GET /bookings` —Å `apartmentId: undefined`

## üîç **–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤**

–ò–∑ –≤–∞—à–∏—Ö –ª–æ–≥–æ–≤ –≤–∏–¥–Ω–æ:
```
[API] GET /bookings 
Object { apartmentId: undefined }
[ERROR] Failed to fetch bookings 
Object { errors: (1) [‚Ä¶], response: Response }
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ:
1. –ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. Directus –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É
3. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ**

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ Directus

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Directus Admin Panel:**
   - URL: `https://1.cycloscope.online/admin`

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π:**
   - Settings > Access Control > Roles
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å **Public**

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ bookings:**
   ```
   Collection: bookings
   ‚úÖ Read: Allow
   ‚úÖ Create: Allow  
   ‚úÖ Update: Allow
   ‚úÖ Delete: Allow
   ```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–ª–ª–µ–∫—Ü–∏–∏ bookings

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Data Model:**
   - Settings > Data Model
   - –ù–∞–π–¥–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é **bookings**

2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç:**
   ```
   ‚úÖ id (UUID, Primary Key)
   ‚úÖ guest_name (String)
   ‚úÖ apartment_id (String)
   ‚úÖ checkin_date (Date)
   ‚úÖ checkout_date (Date)
   ‚úÖ slug (String)
   ‚úÖ lock_code (String)
   ‚úÖ date_created (DateTime)
   ‚úÖ date_updated (DateTime)
   ```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:**
   - Settings > Access Control > Roles > Public
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å **Static Token**

2. **–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ:**
   - Settings > Access Control > Tokens
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è —Ä–æ–ª–∏ Public

### –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** `http://localhost:8080/`
2. **–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Å–µ–∫—Ü–∏–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**
3. **–ù–∞–∂–º–∏—Ç–µ "Test Directus Connection"** –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ DirectusDebug
4. **–ù–∞–∂–º–∏—Ç–µ "Test Booking Operations"** –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ BookingDebug

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤

–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ BookingDebug –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:
- ‚úÖ **allBookings:** –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- ‚úÖ **filteredBookings:** –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
- ‚úÖ **createdBooking:** –°–æ–∑–¥–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏, –æ–Ω–∏ –ø–æ–∫–∞–∂—É—Ç:
- **–°—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏** (401, 403, 404, 500)
- **–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ**
- **–î–µ—Ç–∞–ª–∏ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞**

## üîß **–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**

### –ü—Ä–æ–±–ª–µ–º–∞: 401 Unauthorized
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π —Ç–æ–∫–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env.local`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –∞–∫—Ç–∏–≤–µ–Ω –≤ Directus

### –ü—Ä–æ–±–ª–µ–º–∞: 403 Forbidden
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —á—Ç–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–æ–ª–∏ Public
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Read —Ä–∞–∑—Ä–µ—à–µ–Ω –¥–ª—è bookings

### –ü—Ä–æ–±–ª–µ–º–∞: 404 Not Found
**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–ª–ª–µ–∫—Ü–∏—è bookings –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é bookings –≤ Directus
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏

### –ü—Ä–æ–±–ª–µ–º–∞: 500 Internal Server Error
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Directus
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ Directus
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

1. **DirectusDebug:**
   - –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–∞—Ö

2. **BookingDebug:**
   - –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫—É
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:

–û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- **Network tab:** –ó–∞–ø—Ä–æ—Å—ã –∫ Directus
- **Console tab:** –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–û—à–∏–±–∫–∏:** –°—Ç–∞—Ç—É—Å –∫–æ–¥—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è

## üìù **–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

### –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ Directus:
```
Role: Public
Collection: bookings
Permissions:
  ‚úÖ Read: Allow
  ‚úÖ Create: Allow
  ‚úÖ Update: Allow
  ‚úÖ Delete: Allow
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ bookings:
```
bookings/
‚îú‚îÄ‚îÄ id (UUID, Primary Key, Required)
‚îú‚îÄ‚îÄ guest_name (String, Required)
‚îú‚îÄ‚îÄ apartment_id (String, Required)
‚îú‚îÄ‚îÄ checkin_date (Date)
‚îú‚îÄ‚îÄ checkout_date (Date)
‚îú‚îÄ‚îÄ slug (String)
‚îú‚îÄ‚îÄ lock_code (String)
‚îú‚îÄ‚îÄ date_created (DateTime, Auto-generated)
‚îî‚îÄ‚îÄ date_updated (DateTime, Auto-generated)
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
VITE_DIRECTUS_URL=https://1.cycloscope.online
VITE_DIRECTUS_STATIC_TOKEN=your_token_here
VITE_DEBUG=true
```

## üöÄ **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** `npm run dev`
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞:** `http://localhost:8080/manager`
3. **–í—ã–±–µ—Ä–∏—Ç–µ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è**

---

*–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!* üéâ
