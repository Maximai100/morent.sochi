# üìã –û—Ç—á–µ—Ç –ø–æ –∞—É–¥–∏—Ç—É –ø—Ä–æ–µ–∫—Ç–∞ "Sochi Key Guide"

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è:** 2025-09-10  
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** MVP —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** ‚ö†Ô∏è **3/10** - –¢—Ä–µ–±—É–µ—Ç—Å—è —Å—Ä–æ—á–Ω–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ

## üìä –†–µ–∑—é–º–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞–º–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Directus. –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç —Å–∏—Å—Ç–µ–º—É —É—è–∑–≤–∏–º–æ–π –¥–ª—è –∞—Ç–∞–∫. –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Å–µ—Ä—å–µ–∑–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ!)

### 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∫ Directus –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ (`src/integrations/directus/client.ts`)

**–†–∏—Å–∫–∏:**
- –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –í–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
- –ö—Ä–∞–∂–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):
export const DIRECTUS_STATIC_TOKEN = import.meta.env.VITE_DIRECTUS_STATIC_TOKEN;

// –ü–†–ê–í–ò–õ–¨–ù–û:
// 1. –°–æ–∑–¥–∞—Ç—å backend API (Node.js/Express)
// 2. –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
// 3. –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ backend
```

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º –ø–æ URL `/manager`

**–†–∏—Å–∫–∏:**
- –õ—é–±–æ–π –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã
- –î–æ—Å—Ç—É–ø –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º –≥–æ—Å—Ç–µ–π
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–∞ –¥–µ–π—Å—Ç–≤–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// –î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã:
<Route path="/manager" element={
  <ProtectedRoute>
    <ManagerPanel />
  </ProtectedRoute>
} />
```

### 3. –ü—Ä—è–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª–∏–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é –≤—ã–ø–æ–ª–Ω—è–µ—Ç CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ Directus

**–†–∏—Å–∫–∏:**
- SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ Directus API
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞

---

## üü† –°–ï–†–¨–ï–ó–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ê–†–•–ò–¢–ï–ö–¢–£–†–´

### 4. –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ManagerPanel (843 —Å—Ç—Ä–æ–∫–∏)

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å—è –ª–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
```
src/
  features/
    apartments/
      components/
        ApartmentCard.tsx
        ApartmentForm.tsx
        ApartmentList.tsx
      hooks/
        useApartments.ts
        useApartmentMutations.ts
      services/
        apartmentService.ts
    bookings/
      components/
        BookingForm.tsx
        BookingList.tsx
      hooks/
        useBookings.ts
      services/
        bookingService.ts
```

### 5. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ª–æ—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ API

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
```typescript
// –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Directus –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
const items = await directus.request(readItems('apartments'));
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
```typescript
// services/api/apartments.ts
export class ApartmentService {
  async getAll(): Promise<Apartment[]> {
    try {
      const response = await api.get('/apartments');
      return response.data;
    } catch (error) {
      throw new ApiError('Failed to fetch apartments', error);
    }
  }
}

// hooks/useApartments.ts
export const useApartments = () => {
  return useQuery({
    queryKey: ['apartments'],
    queryFn: () => apartmentService.getAll(),
    staleTime: 5 * 60 * 1000, // 5 –º–∏–Ω—É—Ç
    cacheTime: 10 * 60 * 1000, // 10 –º–∏–Ω—É—Ç
  });
};
```

### 6. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** React Query –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// main.tsx
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000,
      cacheTime: 10 * 60 * 1000,
      retry: 3,
      retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000),
    },
    mutations: {
      onError: (error) => {
        toast.error('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
        console.error(error);
      },
    },
  },
});
```

---

## üü° –ü–†–û–ë–õ–ï–ú–´ –ö–ê–ß–ï–°–¢–í–ê –ö–û–î–ê

### 7. –°–ª–∞–±–∞—è TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

**–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (tsconfig.json):**
```json
{
  "noImplicitAny": false,      // ‚ùå –ü–ª–æ—Ö–æ
  "strictNullChecks": false,   // ‚ùå –ü–ª–æ—Ö–æ
  "noUnusedParameters": false, // ‚ùå –ü–ª–æ—Ö–æ
  "noUnusedLocals": false      // ‚ùå –ü–ª–æ—Ö–æ
}
```

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```json
{
  "strict": true,
  "noImplicitAny": true,
  "strictNullChecks": true,
  "noUnusedParameters": true,
  "noUnusedLocals": true,
  "noImplicitReturns": true,
  "noFallthroughCasesInSwitch": true,
  "esModuleInterop": true,
  "skipLibCheck": true
}
```

### 8. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ any —Ç–∏–ø–æ–≤

**–ü—Ä–∏–º–µ—Ä—ã –ø–ª–æ—Ö–æ–≥–æ –∫–æ–¥–∞:**
```typescript
// ‚ùå –ü–ª–æ—Ö–æ
const item: any = await directus.request(readItem('apartments', id));
const mapped = (items || []).map((a: any) => ({...}));

// ‚úÖ –•–æ—Ä–æ—à–æ
interface ApartmentResponse {
  id: string;
  title: string;
  apartment_number: string;
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}

const item = await directus.request<ApartmentResponse>(
  readItem('apartments', id)
);
```

### 9. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è –ª–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã
```typescript
// utils/date.ts
export const formatDate = (date: Date | string): string => {
  return format(parseISO(date), 'dd.MM.yyyy');
};

export const formatDateForAPI = (date: string): string => {
  return format(parse(date, 'dd.MM.yyyy', new Date()), 'yyyy-MM-dd');
};
```

### 10. –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –∫–æ–¥–µ

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// config/constants.ts
export const CONTACT_INFO = {
  PHONE: process.env.VITE_CONTACT_PHONE || '8 800 700 55 01',
  WHATSAPP: process.env.VITE_WHATSAPP_NUMBER || '79628886449',
  INSTAGRAM: process.env.VITE_INSTAGRAM || 'morent.sochi',
  TELEGRAM: process.env.VITE_TELEGRAM || 'morentsochi',
};

export const FILE_UPLOAD = {
  MAX_SIZE_MB: 50,
  ALLOWED_IMAGE_TYPES: ['image/jpeg', 'image/png', 'image/webp'],
  ALLOWED_VIDEO_TYPES: ['video/mp4', 'video/webm'],
};
```

---

## üîµ –ü–†–û–ë–õ–ï–ú–´ UI/UX

### 11. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- –¢–∞–±–ª–∏—Ü—ã –Ω–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã
- –ö–Ω–æ–ø–∫–∏ —Å–ª–∏—à–∫–æ–º –º–µ–ª–∫–∏–µ –¥–ª—è —Ç–∞—á-—ç–∫—Ä–∞–Ω–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
```css
/* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –º–æ–¥–∞–ª–∫–∞ */
@media (max-width: 768px) {
  .modal-content {
    width: 100%;
    height: 100vh;
    border-radius: 0;
    max-height: 100vh;
  }
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ */
.table-responsive {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}
```

### 12. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// components/LoadingButton.tsx
export const LoadingButton = ({ loading, children, ...props }) => (
  <Button disabled={loading} {...props}>
    {loading && <Spinner className="mr-2" />}
    {children}
  </Button>
);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
<LoadingButton loading={isSaving} onClick={handleSave}>
  –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
</LoadingButton>
```

### 13. –ü–ª–æ—Ö–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å breadcrumbs
```typescript
// components/Breadcrumbs.tsx
<Breadcrumb>
  <BreadcrumbItem>
    <BreadcrumbLink href="/">–ì–ª–∞–≤–Ω–∞—è</BreadcrumbLink>
  </BreadcrumbItem>
  <BreadcrumbItem>
    <BreadcrumbLink href="/manager">–ü–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞</BreadcrumbLink>
  </BreadcrumbItem>
  <BreadcrumbItem isCurrentPage>
    <BreadcrumbLink>–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç ‚Ññ{apartmentNumber}</BreadcrumbLink>
  </BreadcrumbItem>
</Breadcrumb>
```

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ –û–ë–†–ê–ë–û–¢–ö–ò –û–®–ò–ë–û–ö

### 14. Console.log –≤ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–¥–µ

**–ù–∞–π–¥–µ–Ω–æ 13 –º–µ—Å—Ç —Å console –≤—ã–≤–æ–¥–æ–º**

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –ª–æ–≥–≥–µ—Ä
```typescript
// utils/logger.ts
class Logger {
  private isDevelopment = import.meta.env.DEV;

  debug(...args: any[]) {
    if (this.isDevelopment) {
      console.log(...args);
    }
  }

  error(message: string, error?: any) {
    if (this.isDevelopment) {
      console.error(message, error);
    } else {
      // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Sentry –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–∏—Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
      Sentry.captureException(error, { extra: { message } });
    }
  }
}

export const logger = new Logger();
```

### 15. –û–±—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// utils/errorMessages.ts
export const getErrorMessage = (error: any): string => {
  if (error.code === 'NETWORK_ERROR') {
    return '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ';
  }
  if (error.code === 'UNAUTHORIZED') {
    return '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É';
  }
  if (error.code === 'VALIDATION_ERROR') {
    return error.details || '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã';
  }
  return '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ';
};
```

### 16. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å zod + react-hook-form
```typescript
// schemas/apartment.ts
import { z } from 'zod';

export const apartmentSchema = z.object({
  title: z.string().min(3, '–ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞'),
  apartment_number: z.string().regex(/^\d+$/, '–¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã'),
  wifi_password: z.string().min(8, '–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤'),
  manager_email: z.string().email('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email'),
  manager_phone: z.string().regex(/^\+?[78]\d{10}$/, '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞'),
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const { register, handleSubmit, formState: { errors } } = useForm({
  resolver: zodResolver(apartmentSchema),
});
```

---

## üîß –ü–†–û–ë–õ–ï–ú–´ –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

### 17. –ë–æ–ª—å—à–æ–π bundle size

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤—Å–µ 50+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ shadcn

**–†–µ—à–µ–Ω–∏–µ:** Tree shaking –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã
```typescript
// Lazy loading —Å—Ç—Ä–∞–Ω–∏—Ü
const ManagerPanel = lazy(() => import('./pages/ManagerPanel'));
const ApartmentLanding = lazy(() => import('./pages/ApartmentLanding'));

// –û–±–µ—Ä–Ω—É—Ç—å –≤ Suspense
<Suspense fallback={<LoadingSpinner />}>
  <Routes>
    <Route path="/manager" element={<ManagerPanel />} />
  </Routes>
</Suspense>
```

### 18. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// components/OptimizedImage.tsx
export const OptimizedImage = ({ src, alt, ...props }) => {
  return (
    <img
      src={src}
      alt={alt}
      loading="lazy"
      decoding="async"
      {...props}
    />
  );
};

// –î–ª—è Directus –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å transforms
const optimizedUrl = `${DIRECTUS_URL}/assets/${id}?width=800&quality=80&format=webp`;
```

### 19. –õ–∏—à–Ω–∏–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–º–æ–∏–∑–∞—Ü–∏—é
```typescript
// –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
const sortedApartments = useMemo(() => {
  return apartments.sort((a, b) => 
    parseInt(a.number) - parseInt(b.number)
  );
}, [apartments]);

// –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const ApartmentCard = memo(({ apartment, onEdit, onDelete }) => {
  // ...
});

// –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–ª–±—ç–∫–æ–≤
const handleEdit = useCallback((id: string) => {
  // ...
}, [dependencies]);
```

---

## üìù –î–†–£–ì–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 20. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã

**–£–¥–∞–ª–∏—Ç—å:**
- `image.png`
- `image copy 2.png`
- `apartments 20250905-194738.json`
- `bookings 20250905-225214.json`
- `src/integrations/supabase/` (–ø—É—Å—Ç–∞—è –ø–∞–ø–∫–∞)

### 21. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–°–æ–∑–¥–∞—Ç—å README.md:**
```markdown
# Sochi Key Guide

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
\`\`\`bash
npm install
cp .env.example .env.local
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
npm run dev
\`\`\`

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- VITE_DIRECTUS_URL - URL Directus —Å–µ—Ä–≤–µ—Ä–∞
- VITE_API_URL - URL backend API

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
...
```

### 22. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤

**–î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã:**
```typescript
// __tests__/utils/date.test.ts
describe('Date utils', () => {
  test('formatDate formats correctly', () => {
    expect(formatDate('2024-01-15')).toBe('15.01.2024');
  });
});

// __tests__/components/ApartmentCard.test.tsx
describe('ApartmentCard', () => {
  test('renders apartment number', () => {
    render(<ApartmentCard apartment={mockApartment} />);
    expect(screen.getByText('‚Ññ 169')).toBeInTheDocument();
  });
});
```

---

## üöÄ –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)

1. **–î–µ–Ω—å 1:**
   - [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π backend –Ω–∞ Node.js/Express
   - [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
   - [ ] –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ backend

2. **–î–µ–Ω—å 2:**
   - [ ] –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—É—é JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
   - [ ] –ó–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
   - [ ] –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ API

### –§–∞–∑–∞ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (3-5 –¥–Ω–µ–π)

3. **–î–µ–Ω—å 3-4:**
   - [ ] –†–∞–∑–±–∏—Ç—å ManagerPanel –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - [ ] –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π –¥–ª—è API
   - [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å React Query

4. **–î–µ–Ω—å 5:**
   - [ ] –í–∫–ª—é—á–∏—Ç—å strict mode –≤ TypeScript
   - [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ any —Ç–∏–ø—ã
   - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º

### –§–∞–∑–∞ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (2-3 –¥–Ω—è)

5. **–î–µ–Ω—å 6-7:**
   - [ ] –î–æ–±–∞–≤–∏—Ç—å lazy loading
   - [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

6. **–î–µ–Ω—å 8:**
   - [ ] –£–ª—É—á—à–∏—Ç—å –º–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
   - [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
   - [ ] –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

### –§–∞–∑–∞ 4: –ö–∞—á–µ—Å—Ç–≤–æ (ongoing)

7. **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ:**
   - [ ] –ü–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
   - [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - [ ] –ü—Ä–æ–≤–æ–¥–∏—Ç—å –∫–æ–¥-—Ä–µ–≤—å—é

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –¢–ï–•–ù–û–õ–û–ì–ò–Ø–ú

### Backend (–≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω):
- **Node.js + Express + Prisma** - –ø—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **NestJS** - enterprise-ready —Ä–µ—à–µ–Ω–∏–µ —Å —Ö–æ—Ä–æ—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- **Fastify** - –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- **Clerk** - –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å UI
- **Auth0** - enterprise —Ä–µ—à–µ–Ω–∏–µ
- **NextAuth** - –µ—Å–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ Next.js

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- **Sentry** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- **LogRocket** - –∑–∞–ø–∏—Å—å —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Datadog** - –ø–æ–ª–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **Vitest** - unit —Ç–µ—Å—Ç—ã
- **React Testing Library** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã
- **Playwright** - e2e —Ç–µ—Å—Ç—ã

---

## üìà –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤—Å–µ—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:

- ‚úÖ –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã < 2 —Å–µ–∫
- ‚úÖ Bundle size < 500kb
- ‚úÖ Lighthouse score > 90
- ‚úÖ 0 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ > 70%
- ‚úÖ TypeScript strict mode –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ 0 console.log –≤ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–¥–µ

---

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ü—Ä–æ–µ–∫—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç, –Ω–æ –∏–º–µ–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Ññ1:** –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–±—Ä–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –∏–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞ –∏ —Å–æ–∑–¥–∞—Ç—å backend —Å–ª–æ–π.

**–í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** 
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã: 2 –¥–Ω—è
- –ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: 2-3 –Ω–µ–¥–µ–ª–∏
- –ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: 1-2 –º–µ—Å—è—Ü–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

*–î–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: 2025-09-10*  
*–°–ª–µ–¥—É—é—â–∏–π –∞—É–¥–∏—Ç —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ —á–µ—Ä–µ–∑ 1 –º–µ—Å—è—Ü –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π*